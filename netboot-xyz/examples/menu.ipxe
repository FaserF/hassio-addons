#!ipxe

:custom_menu
menu Custom OS List
item --gap --             ------------------------- Operating Systems ------------------------------
item windows11            Windows 11 Installer
item linuxmint            Linux Mint 21.3
item ubuntu               Ubuntu 24.04 LTS
item --gap --             ------------------------- Tools & Diagnostics ----------------------------
item systemrescue         SystemRescue (Recovery & Repair)
item gparted              GParted Live (Disk Partitioning & Repair)
item clonezilla           Clonezilla (Disk Cloning & Imaging)
item memtest              Memtest86+ (RAM Diagnostics)
item --gap --             ------------------------------------------------------------------
item netbootxyz           Return to Netboot.xyz
choose target && goto ${target}

:windows11
kernel http://${boot_domain}/boot/wimboot
initrd http://${boot_domain}/image/windows11/boot/bcd         BCD
initrd http://${boot_domain}/image/windows11/boot/boot.sdi    boot.sdi
initrd http://${boot_domain}/image/windows11/sources/boot.wim boot.wim
boot

:linuxmint
kernel http://${boot_domain}/image/linuxmint/vmlinuz boot=casper netboot=url url=http://${boot_domain}/image/linuxmint/linuxmint.iso
initrd http://${boot_domain}/image/linuxmint/initrd.lz
boot

:ubuntu
kernel http://${boot_domain}/image/ubuntu/vmlinuz boot=casper netboot=url url=http://${boot_domain}/image/ubuntu/ubuntu.iso
initrd http://${boot_domain}/image/ubuntu/initrd
boot

:systemrescue
kernel http://${boot_domain}/image/systemrescue/sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archiso_http_srv=http://${boot_domain}/image/systemrescue/ checksum
initrd http://${boot_domain}/image/systemrescue/sysresccd/boot/intel_ucode.img
initrd http://${boot_domain}/image/systemrescue/sysresccd/boot/amd_ucode.img
initrd http://${boot_domain}/image/systemrescue/sysresccd/boot/x86_64/initramfs.img
boot

:gparted
kernel http://${boot_domain}/image/gparted/vmlinuz boot=live config union=overlay username=user noswap noeject vga=788 fetch=http://${boot_domain}/image/gparted/filesystem.squashfs
initrd http://${boot_domain}/image/gparted/initrd.img
boot

:clonezilla
kernel http://${boot_domain}/image/clonezilla/vmlinuz boot=live username=user union=overlay config components noswap edd=on nomodeset nodmraid locales= keyboard-layouts= ocs_prerun="dhclient" ocs_live_run="ocs-live-general" ocs_live_extra_param="" ocs_live_batch=no video=uvesafb:mode_option=1024x768-16 fetch=http://${boot_domain}/image/clonezilla/filesystem.squashfs
initrd http://${boot_domain}/image/clonezilla/initrd.img
boot

:memtest
kernel http://${boot_domain}/image/memtest/memtest.bin
boot

:netbootxyz
chain --autofree http://${boot_domain}/menu.ipxe
